# Experiment exp_20260207_120000 - Feature coverage audit for new speed signal

## Metadata
- run_id: exp_20260207_120000
- seed_id: EXP-002
- base_commit: 631d8882c4a544cbdd9c16d9547d9a5e797b60f7
- head_commit: a269a40112af84943532f29a3c7682baa86727f8
- python_executable: C:\Users\yyosh\actions-runner\keiba\keiba\keiba\py64_analysis\.venv\Scripts\python.exe
- bootstrap_seed: 311112018
- unit_of_resampling: day-block (YYYY-MM-DD)

## Hypothesis
Adding a coverage/dispersion audit prevents no-op feature releases.

## Experimental Design
- test_period: 2024-01-01 to 2024-12-31
- eval_command: `C:/Users/yyosh/actions-runner/keiba/keiba/keiba/py64_analysis/.venv/Scripts/python.exe py64_analysis/scripts/run_holdout.py --train-start 2020-01-01 --train-end 2022-12-31 --valid-start 2023-01-01 --valid-end 2023-12-31 --test-start 2024-01-01 --test-end 2024-12-31 --name exp_20260207_120000 --out-dir data/holdout_runs/exp_20260207_120000`
- config_used (variant): data/holdout_runs/exp_20260207_120000/config_used.yaml
- config_used (baseline): artifacts/baselines/29efff43dfb22aa9de3fb94344f0ca6f7c6e4ffb124394854177a24b060dc6ab/config_used.yaml

## Change Summary
Changed files: py64_analysis/src/keiba/features/signal_audit.py.

## Risk
- Experiment type: experiment
- risk_level: low
- max_diff_size: 150

## Metrics (required)
- ROI: -0.327528
- Total stake: 71200.000000
- n_bets: 172
- Test period: 2024-01-01 to 2024-12-31
- Max drawdown: 0.129467
- frac_days_any_bet: 0.773585
- frac_days_candidates_ge_n: 0.773585
- ROI definition: ROI = profit / stake, profit = return - stake.
- Rolling: no
- Design window: N/A
- Eval window: N/A
- Paired delta vs baseline: 0.000000
- Pooled vs step14 sign mismatch: no
- Preferred ROI for decisions: pooled

## Baseline (point estimates)
- baseline_ROI: -0.327528
- baseline_total_stake: 71200.000000
- baseline_n_bets: 172
- baseline_max_drawdown: 0.129467
- baseline_frac_days_any_bet: 0.773585
- baseline_frac_days_candidates_ge_n: 0.773585

## Paired Delta vs Baseline
- delta_ROI: 0.000000
- delta_max_drawdown: 0.000000

## Uncertainty (day-block bootstrap)
- ROI_variant_CI95: [-0.893622, 0.438150]
- ROI_baseline_CI95: [-0.893622, 0.438150]
- delta_ROI_CI95: [0.000000, 0.000000]
- p_one_sided (P(delta<=0)): 1.000000
- bootstrap: {'B': 2000, 'seed': 311112018, 'block_unit': 'day'}

## Robustness
### ROI by odds bucket
| odds_bucket | ROI | stake | bets | baseline_ROI | baseline_stake | baseline_bets |
|---|---:|---:|---:|---:|---:|---:|
| 10-20 | -1.000000 | 17600.000000 | 33 | -1.000000 | 17600.000000 | 33 |
| 20-30 | 1.226590 | 17300.000000 | 27 | 1.226590 | 17300.000000 | 27 |
| 30+ | -0.742149 | 36300.000000 | 112 | -0.742149 | 36300.000000 | 112 |

### ROI by month
| month | ROI | stake | bets | baseline_ROI | baseline_stake | baseline_bets |
|---|---:|---:|---:|---:|---:|---:|
| 2024-01 | -1.000000 | 12600.000000 | 27 | -1.000000 | 12600.000000 | 27 |
| 2024-02 | -1.000000 | 4100.000000 | 15 | -1.000000 | 4100.000000 | 15 |
| 2024-03 | -1.000000 | 6800.000000 | 18 | -1.000000 | 6800.000000 | 18 |
| 2024-04 | 0.800000 | 5200.000000 | 14 | 0.800000 | 5200.000000 | 14 |
| 2024-05 | -1.000000 | 5600.000000 | 13 | -1.000000 | 5600.000000 | 13 |
| 2024-06 | -1.000000 | 3000.000000 | 14 | -1.000000 | 3000.000000 | 14 |
| 2024-07 | -1.000000 | 5100.000000 | 12 | -1.000000 | 5100.000000 | 12 |
| 2024-08 | -1.000000 | 5800.000000 | 10 | -1.000000 | 5800.000000 | 10 |
| 2024-09 | 3.709091 | 6600.000000 | 16 | 3.709091 | 6600.000000 | 16 |
| 2024-10 | -1.000000 | 6700.000000 | 9 | -1.000000 | 6700.000000 | 9 |
| 2024-11 | 1.480000 | 3000.000000 | 9 | 1.480000 | 3000.000000 | 9 |
| 2024-12 | -1.000000 | 6700.000000 | 15 | -1.000000 | 6700.000000 | 15 |

## Artifacts
- metrics_json: data/holdout_runs/exp_20260207_120000/metrics.json
- baseline_metrics_json: artifacts/baselines/29efff43dfb22aa9de3fb94344f0ca6f7c6e4ffb124394854177a24b060dc6ab/metrics.json
- per_bet_pnl: artifacts/experiments/exp_20260207_120000/per_bet_pnl.csv
- baseline_per_bet_pnl: artifacts/baselines/29efff43dfb22aa9de3fb94344f0ca6f7c6e4ffb124394854177a24b060dc6ab/per_bet_pnl.csv
- summary_stats_json: artifacts/experiments/exp_20260207_120000/summary_stats.json
- report: data/holdout_runs/exp_20260207_120000/report/backtest.md
- config_used_variant: data/holdout_runs/exp_20260207_120000/config_used.yaml
- config_used_baseline: artifacts/baselines/29efff43dfb22aa9de3fb94344f0ca6f7c6e4ffb124394854177a24b060dc6ab/config_used.yaml

## Decision
- decision: needs-human
- rationale: Leakage safety check did not pass (heuristic).
- flags: CI_crosses_0, leakage_check_failed_or_unknown

## Notes
- leakage_check_pre_race_only: no
